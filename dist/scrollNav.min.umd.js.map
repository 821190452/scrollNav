{"version":3,"file":"scrollNav.min.umd.js","sources":["../src/util/extend.js","../src/util/getOrSetID.js","../src/util/getYPosition.js","../src/util/nextUntil.js","../src/util/populateSectionData.js","../src/util/createList.js","../src/util/createNav.js","../src/util/insertNav.js","../src/util/getTargetYPosition.js","../src/util/calculateScrollDuration.js","../src/util/easing.js","../src/scrollTo.js","../src/setupClickHandlers.js","../src/util/getActiveSection.js","../src/util/updateActiveNavItem.js","../src/setupScrollHandler.js","../src/teardownClickHandlers.js","../src/teardownScrollHandler.js","../src/scrollNav.js"],"sourcesContent":["/* Borrowed from https://gist.github.com/cferdinandi/4f8a0e17921c5b46e6c4 */\n\nexport default function extend(defaults, options) {\n  const extended = {};\n  let prop;\n\n  for (prop in defaults) {\n    if (Object.prototype.hasOwnProperty.call(defaults, prop)) {\n      extended[prop] = defaults[prop];\n    }\n  }\n\n  for (prop in options) {\n    if (Object.prototype.hasOwnProperty.call(options, prop)) {\n      extended[prop] = options[prop];\n    }\n  }\n\n  return extended;\n}\n","export default function getOrSetID(elem, setID) {\n  if (typeof elem !== 'object') {\n    return Promise.reject(new Error('First argument must be an object'));\n  }\n\n  let id = elem.id;\n\n  if (!id) {\n    if (typeof setID !== 'string') {\n      return Promise.reject(new Error('Second argument must be a string'));\n    }\n\n    id = setID;\n    elem.id = id;\n  }\n  return id;\n}\n","export default function getYPosition(elem, parent) {\n  if (typeof elem !== 'object') {\n    return Promise.reject(new Error('First argument must be an object'));\n  }\n\n  parent = parent || document.body;\n  if (typeof parent !== 'object') {\n    return Promise.reject(new Error('Second argument must be an object'));\n  }\n\n  const bodyRect = parent.getBoundingClientRect();\n  const elemRect = elem.getBoundingClientRect();\n\n  return elemRect.top - bodyRect.top;\n}\n","/* Borrowed from https://github.com/cferdinandi/nextUntil */\n\nexport default function nextUntil(elem, selector, filter) {\n  var siblings = [];\n\n  elem = elem.nextElementSibling;\n\n  while (elem) {\n    if (elem.matches(selector)) break;\n\n    if (filter && !elem.matches(filter)) {\n      elem = elem.nextElementSibling;\n      continue;\n    }\n\n    siblings.push(elem);\n\n    elem = elem.nextElementSibling;\n  }\n\n  return siblings;\n}\n","import getOrSetID from './getOrSetID';\nimport getYPosition from './getYPosition';\nimport nextUntil from './nextUntil';\n\nexport default function populateSectionData(sections, prefix, settings) {\n  const sectionData = [];\n  prefix = prefix + '__';\n\n  sections.forEach((elem, i) => {\n    let subSectionData = [];\n    const id = getOrSetID(elem, prefix + (i + 1));\n\n    if (settings.subSections && elem.matches(settings.sections)) {\n      const subSectionDom = nextUntil(\n        elem,\n        settings.sections,\n        settings.subSections\n      );\n      subSectionData = populateSectionData(subSectionDom, id, settings);\n    }\n\n    sectionData.push({\n      id: id,\n      text: elem.innerText || elem.textContent,\n      offsetTop: getYPosition(elem),\n      subSections: subSectionData\n    });\n  });\n\n  return sectionData;\n}\n","export default function createList(data, prefix, isSubList = false) {\n  const suffix = isSubList ? '__sub-' : '__';\n  const baseClass = prefix + suffix;\n\n  const itemsMarkup = `\n    ${data\n      .map(\n        item =>\n          `<li class=\"${baseClass}item\" data-sn-section=\"${item.id}\">\n            <a class=\"${baseClass}link\" href=\"#${item.id}\">${item.text}</a>\n            ${\n              item.subSections && item.subSections.length\n                ? `${createList(item.subSections, prefix, true)}`\n                : ''\n            }\n          </li>`\n      )\n      .join('')}\n  `;\n\n  const list = `\n    <ol class=\"${baseClass}list\">\n      ${itemsMarkup}\n    </ol>\n  `;\n\n  return list;\n}\n","import createList from './createList';\n\nexport default function createNav(data, prefix) {\n  const nav = document.createElement('nav');\n  nav.className = prefix;\n  nav.setAttribute('role', 'navigation');\n\n  nav.innerHTML = createList(data, prefix);\n\n  return nav;\n}\n","export default function insertNav(nav, settings) {\n  const target = settings.insertTarget;\n  const location = settings.insertLocation;\n\n  if (location === 'append') {\n    target.appendChild(nav);\n  } else if (location === 'prepend') {\n    target.insertBefore(nav, target.firstChild);\n  } else if (location === 'before') {\n    target.parentNode.insertBefore(nav, target);\n  } else if (location === 'after') {\n    target.parentNode.insertBefore(nav, target.nextSibling);\n  }\n}\n","export default function getTargetYPosition(target, data) {\n  let id = target.getAttribute('href');\n  if (id.charAt(0) === '#') {\n    id = id.substr(1);\n  }\n\n  const targetSection = filterData(data, id);\n\n  return targetSection.offsetTop;\n}\n\nfunction filterData(data, id) {\n  let targetSection;\n\n  data.forEach(section => {\n    if (section.id === id) {\n      targetSection = section;\n    }\n\n    if (section.subSections && targetSection === undefined) {\n      targetSection = filterData(section.subSections, id);\n    }\n  });\n\n  return targetSection;\n}\n","export default function calculateScrollDuration(distance) {\n  const halfDistance = Math.abs(distance / 2);\n\n  return Math.min(Math.max(halfDistance, 250), 1200);\n}\n","/* Borrowed from https://gist.github.com/gre/1650294#gistcomment-1806616 */\n\nconst easeIn = p => t => Math.pow(t, p);\nconst easeOut = p => t => 1 - Math.abs(Math.pow(t - 1, p));\nconst easeInOut = p => t =>\n  t < 0.5 ? easeIn(p)(t * 2) / 2 : easeOut(p)(t * 2 - 1) / 2 + 0.5;\n\nconst easing = {\n  linear: easeInOut(1),\n  easeInQuad: easeIn(2),\n  easeOutQuad: easeOut(2),\n  easeInOutQuad: easeInOut(2),\n  easeInCubic: easeIn(3),\n  easeOutCubic: easeOut(3),\n  easeInOutCubic: easeInOut(3),\n  easeInQuart: easeIn(4),\n  easeOutQuart: easeOut(4),\n  easeInOutQuart: easeInOut(4),\n  easeInQuint: easeIn(5),\n  easeOutQuint: easeOut(5),\n  easeInOutQuint: easeInOut(5)\n};\n\nexport { easing };\n","import calculateScrollDuration from './util/calculateScrollDuration';\nimport calculateEasedTimes from './util/calculateEasedTimes';\nimport { easing } from './util/easing';\n\n/* istanbul ignore next */\nexport default function scrollTo(targetPosition, easingStyle) {\n  return new Promise(async (resolve, reject) => {\n    if (typeof targetPosition !== 'number') {\n      return reject(new Error('First argument must be a number'));\n    }\n\n    easingStyle = easingStyle || 'linear';\n    if (typeof easingStyle !== 'string') {\n      return reject(new Error('Second argument must be a string'));\n    }\n\n    const startingPosition = window.pageYOffset;\n    const distance = targetPosition - startingPosition;\n    const duration = await calculateScrollDuration(distance);\n    const framerate = 50;\n    const increment = 1000 / framerate;\n    let ellapsedTime = 0;\n    let easedTime;\n    let next;\n\n    function animateScroll() {\n      ellapsedTime += increment;\n      easedTime = easing[easingStyle](ellapsedTime / duration);\n      next = easedTime * distance + startingPosition;\n      window.scroll(0, next);\n\n      if (ellapsedTime < duration) {\n        setTimeout(animateScroll, increment);\n      } else {\n        resolve();\n      }\n    }\n\n    animateScroll();\n  });\n}\n","import getTargetYPosition from './util/getTargetYPosition';\nimport scrollTo from './scrollTo';\n\nexport default function setupClickHandlers(links, data, cb) {\n  function clickHandler(event) {\n    event.preventDefault();\n\n    const activeOffset = window.innerHeight / 3 / 2 + 80;\n    const targetYPosition = getTargetYPosition(event.target, data);\n    const scrollYTarget = targetYPosition - activeOffset;\n\n    scrollTo(scrollYTarget, 'easeOutQuad').then(cb());\n  }\n\n  links.forEach(link => {\n    link.addEventListener('click', clickHandler);\n  });\n\n  return clickHandler;\n}\n","export default function getActiveSection(data, boundryTop, boundryBottom) {\n  let activeSection;\n\n  data.forEach(section => {\n    if (section.offsetTop > boundryBottom) {\n      if (!activeSection && section.offsetTop < boundryTop) {\n        activeSection = section;\n      }\n    } else {\n      activeSection = section;\n    }\n  });\n\n  return activeSection;\n}\n","export default function updateActiveNavItem(activeSection, nav) {\n  const previousActive = nav.querySelector('[data-sn-active]');\n\n  if (!activeSection) {\n    if (previousActive) {\n      previousActive.classList.remove('scroll-nav__item--active');\n      previousActive.removeAttribute('data-sn-active');\n    }\n\n    return;\n  }\n\n  const currentActive = nav.querySelector(\n    '[data-sn-section=' + activeSection.id + ']'\n  );\n\n  if (currentActive && currentActive !== previousActive) {\n    if (previousActive) {\n      previousActive.classList.remove('scroll-nav__item--active');\n      previousActive.removeAttribute('data-sn-active');\n    }\n    currentActive.classList.add('scroll-nav__item--active');\n    currentActive.setAttribute('data-sn-active', true);\n  }\n}\n","import getActiveSection from './util/getActiveSection';\nimport updateActiveNavItem from './util/updateActiveNavItem';\n\nexport default function setupScrollHandler(data, nav) {\n  function scrollHandler() {\n    const top = window.scrollY || window.pageYOffset || document.body.scrollTop;\n    const boundryTop = top + 80;\n    const boundryBottom = boundryTop + window.innerHeight / 3;\n    const activeSection = getActiveSection(data, boundryTop, boundryBottom);\n\n    updateActiveNavItem(activeSection, nav);\n\n    return activeSection;\n  }\n\n  window.addEventListener('scroll', scrollHandler);\n\n  return scrollHandler;\n}\n","export default function teardownClickHandlers(nav, clickHandler) {\n  const links = nav.querySelectorAll('a');\n  links.forEach(link => {\n    link.removeEventListener('click', clickHandler);\n  });\n}\n","export default function teardownScrollHandler(scrollHandler) {\n  window.removeEventListener('scroll', scrollHandler);\n}\n","/*\n * scrollNav\n * http://scrollnav.com\n *\n * Copyright (c) 2013-2018 James Wilson\n * Licensed under the MIT license.\n */\n\nimport extend from './util/extend';\nimport populateSectionData from './util/populateSectionData';\nimport createNav from './util/createNav';\nimport insertNav from './util/insertNav';\nimport setupClickHandlers from './setupClickHandlers';\nimport setupScrollHandler from './setupScrollHandler';\nimport teardownClickHandlers from './teardownClickHandlers';\nimport teardownScrollHandler from './teardownScrollHandler';\n\nlet clickHandler;\nlet scrollHandler;\n\n// matches() polyfill\n/* istanbul ignore next */\nif (!Element.prototype.matches) {\n  Element.prototype.matches =\n    Element.prototype.msMatchesSelector ||\n    Element.prototype.webkitMatchesSelector;\n}\n\nfunction isElement(element) {\n  return element instanceof Element;\n}\n\nfunction init(elem, options) {\n  const defaults = {\n    sections: 'h2',\n    insertTarget: elem,\n    insertLocation: 'before'\n  };\n  const settings = extend(defaults, options);\n  const locationOptions = ['append', 'prepend', 'after', 'before'];\n\n  if (!isElement(elem)) {\n    if (settings.debug) {\n      console.error(`\n        scrollNav build failed, content argument \"${elem}\" is not an HTML Element\n      `);\n    }\n    return;\n  }\n\n  if (settings.insertTarget && !isElement(settings.insertTarget)) {\n    if (settings.debug) {\n      console.error(`\n        scrollNav build failed, options.insertTarget \"${elem}\" is not an HTML Element\n      `);\n    }\n    return;\n  }\n\n  if (locationOptions.indexOf(settings.insertLocation) < 1) {\n    if (settings.debug) {\n      console.error(`\n        scrollNav build failed, options.insertLocation \"${\n          settings.insertLocation\n        }\" is not a valid option\n      `);\n    }\n    return;\n  }\n\n  const sectionsDom = elem.querySelectorAll(settings.sections);\n\n  if (!sectionsDom.length) {\n    if (settings.debug) {\n      console.error(`\n        scrollNav build failed, could not find any \"${settings.sections}\"\n        elements inside of \"${elem}\"\n      `);\n    }\n    return;\n  }\n\n  const data = populateSectionData(sectionsDom, 'scroll-nav', settings);\n  const nav = createNav(data, 'scroll-nav', settings);\n\n  insertNav(nav, settings);\n  clickHandler = setupClickHandlers(nav.querySelectorAll('a'), data);\n  scrollHandler = setupScrollHandler(data, nav);\n\n  if (settings.onInit) return settings.onInit();\n}\n\nfunction destroy(options) {\n  const defaults = {};\n  const settings = extend(defaults, options);\n  const nav = document.querySelector('.scroll-nav');\n\n  teardownClickHandlers(nav, clickHandler);\n  teardownScrollHandler(scrollHandler);\n  nav.remove();\n\n  if (settings.onDestroy) return settings.onDestroy();\n}\n\nconst scrollNav = {\n  init: init,\n  destroy: destroy\n};\n\nexport default scrollNav;\n"],"names":["const","let"],"mappings":"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"}